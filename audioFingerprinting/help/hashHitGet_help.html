
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>hashHitGet</title><meta name="generator" content="MATLAB 8.0"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2013-07-31"><meta name="DC.source" content="hashHitGet_help.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>hashHitGet</h1><!--introduction--><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Syntax</a></li><li><a href="#2">Description</a></li><li><a href="#3">Example</a></li></ul></div><h2>Syntax<a name="1"></a></h2><div><ul><li>hitList = hashHitGet(hashVec, hashTable, afpPrm)</li></ul></div><h2>Description<a name="2"></a></h2><p>
<p>Return hit list from song hash table for a given particular hashes
<p>Row of hashVec = [0, t1, hashKey]
<p>Row of hitList = [songId, qTimeOffset, hashKey]
</p><h2>Example<a name="3"></a></h2><pre class="codeinput">		dbFile = fullfile(afptRoot, <span class="string">'dataset/database/db_10.mat'</span>);
		load(dbFile);	<span class="comment">% Load hashTable, audioData</span>
		afpPrm = afpOptSet;
		waveFile=fullfile(afptRoot, <span class="string">'dataset/test_corpus/The_power_of_love.wav'</span>);
		[y, fs, nbits]=wavread(waveFile);
		y=mean(y,2);
		lmVec = landmarkFind(y, fs, afpPrm);		<span class="comment">% lmVec: landmark vec, with each row = [t1 f1 f2 t2-t1]</span>
 		<span class="comment">%Augment with landmarks calculated half-a-window advanced too</span>
		hopSize = 0.064*fs;
		lmVec = [lmVec; landmarkFind(y(round(1/4*hopSize):end), fs, afpPrm)];
		lmVec = [lmVec; landmarkFind(y(round(2/4*hopSize):end), fs, afpPrm)];
		lmVec = [lmVec; landmarkFind(y(round(3/4*hopSize):end), fs, afpPrm)];
		hashVec = unique(landmark2hash(lmVec), <span class="string">'rows'</span>); <span class="comment">%  Row of hashVec: [0, t1, hashKey]</span>
		hitList = hashHitGet(hashVec, hashTable);
		disp(hitList);
</pre><pre class="codeoutput">           7         550     2563208
           1         984     4492033
           1        1053     4492033
           1        3705     4492033
           3        4546     4520833
           1        3705     4521736
           4         387     5271553
           3        1079     6316033
           3        3122     6316033
           1         653     4215184
           1        3705     5239815
           7         340     5261837
           4         386     5271553
           6        1168     6283393
           1        2042     8339089
           2         132     4209692
           1         652     4215184
           1        2422     7452550
           1        1359     7459334
           3        5800     8307974
           3         494     8369040
           8         135     8373254
           5         684     8741639
           3        5867     9742215
           4        1225    11363332
           8        2793     7818372
           5         771     7827717
          10        4096     8975258
           2        2000     8977556
           4        2487     9511564
           5        2961     9508738
           1         598     3342465
           4        2559     3355905
          10        3177    11047809
           8        2343    11099152
           8         617    12351369
           9        1410    13284376
           3        1070    13300097
           9        1683    14490520
           8        1305    14492056
           1        2699    14540417
           9        2434    14554391
           4         683    15631511
           3        1317    15650177
           5        3305    15650177
           9         673    15650570
           7        2693     6823188
           3           3     6828560
           5        1425     6838284
           9         555    12332821
           9        2433    14554391
           4         682    15631511
          10         230    15632919
           3        4379    15647881
           3         825    15696791
           5        2179    15699351
          10        1168    15713161
           8         151     1681031
           8        3459     1681031
           2         794     1150472
           8        1880    11505153
           9        2900    11521036
           1         814    11771661
          10        3558    11777037
           9        2900    11782156
          10        1853    11790863
           2         793     1150472
           8        2817    11747857
           2        2000    11751942
           5        3491    12442759
           2         768    12442887
           8        1380     4209672
           4        1536     4099223
           3        2740     8721666
          10        5546     8746758
           1         541     2092698
           9        3793     8718742
           3        5599     8746757
           3        5107     2067373
           2         966     2095123
           6        3109     8097938
           5        3203     8719250
           5        2398     8135042
           1        3503     8151571
           6         200    11845250
           1        2781    11856130
           1         499    13803649
           1         762    13814801
           1         953    13814801
           6        3060    13815041
           1        3484    14085394
           8        2219    15176834
          10        3919    15197082
          10        2648    15200540
           1        2797    15403778
           9         986    15405826
           3        4240    15854746
           9        1703    15857052
           7         566    15927169
           6        2975    16148506
           9         934    16150812
          10        3014    16150812
           3        4604    10333592
           1        2781    10350223
           4         328    10350351
          10        5138    10350863
           5        1330    15849876
           3        4239    15854746
           9        1702    15857052
           3        2673    16147226
           6        2974    16148506
           9         933    16150812
          10        3013    16150812
           5        2156    16416791
           8        1282    16416791
           4        2375    16437400
           4        2888    16442265
           9        3957    16470040
           3        4239    16474906
           5         153    16477212
           5        1275    16477212
           1        2111    16542491
          10        2445    16545948
           4        2577    16607772
          10        3013    16607772
           6        2958    16696592
           7        3378    16703386
           3         928     7689739
           3         927     7689739
           5         587     8048773
           8         822      802564
           5        1034      822019
           7        1860      830467
           6        3227     3733380
           5         887     3842820
           1        3645     8171137
           3        2424     9209228
           5        2348     9212417
           6         267     9212417
           1        4836     9223817
           6        3220     9354373
           7        2471     9359107
           1         823     9517577
           1        2051     9528201
           1          34     3179655
           5        1323     3190529
           1         654     3202435
           9        3535     3202435
          10        3918    12814217
           4        2599    12820744
           1          33     3179655
           5        1322     3190529
           2        1178     4732809
           1        1720    12569623
           5        3402    12601225
           5        3401    12601225
          10        3079    12603913
           1        1834    13328902
          10        1825    16440835
           5        2133    16442242
           2        1231    15006487
           6        2895     8364161
          10        4787     8891914
          10        5141    11319580
           6        3882    11321876
           4         597    11363860
           1         271    11364116
           4         333    11364637
           3        3228    14188942
           4        2551    14206850
           6        2393    14212362
          10        5577    14239490
          10        2289     8897299
           6        2776    10486939
           2        1364    10500621
          10        3220    15158921
          10        5332     3054991
           1        1476    16040200
           3        5255    16040200
           6        3321     1973890
           4         902     1996208
           8        1001    11916804
           3        1030    11918730
          10         826     9146510
           6        1926     9164949
           1        3391    14309398
           1         703    14317713
           1        2532     4987153
          10        3175     4999054
           8         821     5007498
           1        2867     5280657
           1        1618     5283330
           4        2035     5300497
           5        1511    13490830
           5         769     3511426
           5         769     3530381
           1        2866     5280657
           1        1617     5283330
           5         110     5298708
           5         302     5298708
           4        2034     5300497
          10        2969    16146708
           2        1959     4843535
           9        3521     4856078
           8        1557     4856334
           2         495     4856590
           5         769     4868619
           4         495     4888719
           1        2581     7259655
           3        4886    14676871
           3        5218        2824
           7        1746        5000
           6        3015     3463556
           1         284     3468431
           5        3522    14978318
           5        1852    14981251
           7         -18    15003265
           8        1826    15003265
           1        4558    10784648
          10        4061    13815298
           6        1780    13819784
          10        3919    13819784
          10        3919    13820296
           6        2684    13832833
          10        3408    13832833
           1        3566    13858561
           5        3227    15057423
           5        3297    15057423
           2         303    15059592
           5         538    15059592
           1        1888    15068419
           1        1742    15072916
           2         551    15072916
           1        4909     9835010
           5         219    10065543
          10        2677    10065543
           7         348    13256206
           5         788    13262222
           7         351    13264903
          10        5423    13293057
           2        1077    13297031
           7         549    13297031
          10        3918    13795459
           1         992    13806209
           2        1345    13806209
           5         788    13817102
          10        3918    13820296
           2         745    10520333
           5         580    10535557
           1        4629    10535813
           1         689    10539786
          10        3207    10543618
           2         642    16605063
           9         148    16606884
           2         276      769307
           3         392      946722
           6        1406      948652
           6        3429      948652
           7         477     1318925
           2        2085    11021057
           5        3490    13795341
           2        1343    13799825
           5        3490    13825550
           5        3399      631046
           1        1128     1305780
          10        3918    13852933
           4        1765    10474502
           9        1291     6495113
           9        3273     6495113
           8        1557     6559881
           4        1984     6571544
           1        1125     6622853
           9        1290     6495113
           9        3272     6495113
           8        1556     6559881
           4        1983     6571544
           1        1124     6622853
           6        1012     6624271
           1         570     6626185
          10        4964     2621974
           7        2997    11555464
           5         572    11684999
          10        3919    11685384
           3        5698    11815047
           7        1407    14469527
           3        5697    11815047
           1        4696    11818625
          10        3918     2788898
           7         -76     2817941
          10        3918     2817941
           5        2750     9078533
           2        1075     9084165
           8         850     9084165
           2        2145     9105925
           5        2665    14093468
          10        4857    14110853
           8         413     7582356
           8        2718     7582356
           5        1825    15830289
           1        2317    15852072
           7        3409    15856153
           3         893    15859585
           4         174    15823623
           5         909    15823623
           7        3408    15856153
           1        2710     9464961
           2        2371    10989954
           8        3052    10992774
           6        1955    10999553
          10        2448     9420545
           1        2709     9464961
           1        2709     9465857
           2        2370    10989954
           8        3051    10992774
           6        1954    10999553
           5        2181    10999937
           3          39    11000065
           5        2631     8170255
           9         930     8570382
          10        3283    13601153
           5        3211    13621263
           5        1709    13622286
           3         360    13825537
           5        3490    13825537
           2        1185    14993166
           8        2324    13219084
          10        3919     7941768
          10        3917     1285154
           7        2314     1290509
          10        3917     1290509
           1        4290     1307669
           1         972      634639
          10        1018    16697644
           3        5449    16700292
           9          74    16700311
           8         602    16701207
           8         717    16701207
           8         740    16701207
           8        1842    16701207
           8        2003    16701207
           8        2738    16701207
           2         875    16704777
           8         740    16705796
          10        3919     2756237
           3         373     2807194
          10        3919    10985101
           9        3479    10988566
           5        3282    11008539
           3        3392    11009307
           5        1441    11243777
          10        3919    12355981
          10        3919    12358934
           4        1853    12363527
           6         990    12380545
          10        3918     2756237
           3        4864     2774553
          10        3918    10985101
          10        3918    10988054
           9        3478    10988566
          10        3918    10989591
          10        3918    10996109
          10        3918    12355981
          10        3918    12358934
          10        3918    12360471
           4        1852    12363527
           9        3381    12364546
          10        3918    12374285
           2         938    13762579
           3        5449    13784218
           8         740    15199763
          10        1513    15199763
           4        2249    14915363
           9        1568    14915476
           4         340    14937743
           6        2563    14938127
           5         696    14938639
           1         -10     4459043
           1        1024     4473737
           4         994     4486278
          10        3918     4516629
           6        2562    14938127
          10        3917     4516629
           8        2734    10495491
           9        2133    10516870
          10        3919     3705624
           9         382     3721101
          10        3919     3733264
           5        1827     7417244
          10        3919     7426712
          10        3919    12979081
           8         307    12997893
          10        4571     3704196
          10        3918     3705624
          10        3918     3733019
          10        3918     3733264
           8        2797     7415939
           5        1826     7417244
          10        3918     7426712
          10        3918    12979081
          10        3918    12980618
           1        4701    12982042
           1        1493      501528
           8        1399      501528
           8        2180      501773
           7         170    10063116
           8        2260    10063116
           7        2548     4092299
           6         776    10139908
           3        5676    10160521
           8        2808    10161035
           8        3537    10163465
           7        2547     4092299
          10        3919    13735570
           7        2446    13741073
           7         687    13751558
           6        3425    13760276
           8        3361    13765394
           8         905    13768210
           7        1581    13870981
          10        1190    13880070
           4         350    14002193
          10        3918    13731329
          10        3918    13735570
           1        1938    13740178
           7         686    13740178
           7         686    13751558
           9        2689    13880069
           9         464    14127249
          10        3918    14127249
          10        3242    14141188
           2        2317    14143237
           8        2506    14143237
          10         631    14147602
          10        3918    14153497
           1        2529       11919
           1        2325      632078
           5        2564    11549453
           5        1555    11557902
           8         714    10389505
           6        1394    10922004
           9        2121    10929803
          10        3919     3118088
          10        3010     3128714
          10        3918     3145484
           9        3130    10913165
           5        2045    10914317
           8         676    10914829
           5        1610    10920334
           6        1393    10922004
           6        2244    10925717
           9        2120    10929803
           8        2260    10936588
          10        3918     3118088
          10        3010     3128713
          10        3009     3128714
          10        3918     3145483
          10        5537     4428938
          10        3663     4434306
          10        5536     4428938
          10        3662     4434306
          10        3918     4451075
           3        5683     5943682
           1         538     5943938
           3         496     5946882
           5        2718     5963144
          10         760     7149186
           2         407     7153282
           4        2578    16632579
           1         469    16640641
           3        3907    16642689
           9        -103    16642689
           3        5682     5943682
           3         495     5946882
           5        2717     5963144
           7         611     7200899
          10        3609    14491010
           5        1739    14505346
           3        5394    14512643
           9        2878    14513794
           8        2321    14515587
           8        2192    15208835
           5        3295    15221250
           8         676    15223426
          10        3919    15230600
          10        3919    15234313
          10         674    15404674
           3        1169    15419266
           5        1739    15419266
           6        1763     3055491
           2        1192     3072394
           9        2773     8886145
           2        1026     9175041
          10        1019     9190274
           6        3051     9248513
           3        4967     9250177
           7        1566     9543553
           3        3415     9553543
           2         995     9669505
           5        2130     9669505
           5        2130     9672833
           6         816     9674113
           6         816     9674497
           3        5054    10006529
           5         149    10301831
           2        1504    10390401
           7        1370    10399751
           3        3757    10403464
           8        2835    10497671
           3        1528    10501384
          10        3918    15230600
          10        3918    15234313
           7        1369    10399751
           3        3756    10403464
           7         342    11154183
           6        2026    11281153
           5        1844    11574913
          10        5383    11605633
           7        2556    11703944
           9        2766    11704327
           7         158    11708417
           7         -54    13870465
           7        2407    13870465
           2        1687    16371201
           2        1687    16436481
           5         466    16436872
           1         802    16438278
           9        2849    16438278
           6        3338    16438401
           2        2220    16441345
           8        3407     5128711
           1        3792    13112710
           8        -104    13597191
           8        2694    13597574
           5        2769    16338951
           4         190    16404614
           8        3406     5128711
           1          91      463108
          10        3919    13536897
          10        3918    13536897

</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2012b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% hashHitGet
% 
%% Syntax
% * 		hitList = hashHitGet(hashVec, hashTable, afpPrm)
%% Description
%
% <html>
% <p>Return hit list from song hash table for a given particular hashes
% <p>Row of hashVec = [0, t1, hashKey]
% <p>Row of hitList = [songId, qTimeOffset, hashKey]
% </html>
%% Example
%%
%
		dbFile = fullfile(afptRoot, 'dataset/database/db_10.mat');
		load(dbFile);	% Load hashTable, audioData
		afpPrm = afpOptSet;
		waveFile=fullfile(afptRoot, 'dataset/test_corpus/The_power_of_love.wav');
		[y, fs, nbits]=wavread(waveFile);
		y=mean(y,2);
		lmVec = landmarkFind(y, fs, afpPrm);		% lmVec: landmark vec, with each row = [t1 f1 f2 t2-t1]
 		%Augment with landmarks calculated half-a-window advanced too
		hopSize = 0.064*fs;
		lmVec = [lmVec; landmarkFind(y(round(1/4*hopSize):end), fs, afpPrm)];
		lmVec = [lmVec; landmarkFind(y(round(2/4*hopSize):end), fs, afpPrm)];
		lmVec = [lmVec; landmarkFind(y(round(3/4*hopSize):end), fs, afpPrm)];
		hashVec = unique(landmark2hash(lmVec), 'rows'); %  Row of hashVec: [0, t1, hashKey]
		hitList = hashHitGet(hashVec, hashTable);
		disp(hitList);

##### SOURCE END #####
--><hr><a href="index.html">Top page</a>&nbsp;&nbsp;&nbsp;Next: <a href="hash2landmark_help.html">hash2landmark.m</a>&nbsp;&nbsp;&nbsp;Prev:<a href="landmark2hash_help.html">landmark2hash.m</a>
<script>
function keyFunction(){
if (event.keyCode==37) document.location="hash2landmark_help.html";
if (event.keyCode==39) document.location="landmark2hash_help.html";
if (event.keyCode==69) document.location="matlab: edit hashHitGet.m";
}
document.onkeydown=keyFunction;
</script>
</body></html>
